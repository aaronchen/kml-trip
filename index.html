<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Family Trip to Kyoto</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://bootswatch.com/paper/bootstrap.min.css">

    <style>
      .nav-pills { margin: 20px 0; }
      .nav-pills > li > a { padding: 8px 10px; }
      .btn { margin: 5px 0; }
      .glyphicon-map-marker { color: #333; }
      .glyphicon-arrow-right { color: #999; }
      a, a:hover { text-decoration: none; }
    </style>
  </head>

  <body>
    <div class="container">
      <h3>
        <a href="https://www.google.com/maps/d/viewer?mid=15vPov13dsFDc09OMAwruKQI5MjM&hl=en&usp=sharing" target="_blank">Family Trip to Kyoto</a>
      </h3>

      <ul class="nav nav-pills">
        <li class='active'><a href='#' data-group='0'>Kyoto 京都</a></li>
<li class='active'><a href='#' data-group='1'>Nara 奈良</a></li>
<li class='active'><a href='#' data-group='2'>Osaka 大阪</a></li>
<li class='active'><a href='#' data-group='3'>Kobe 神戶</a></li>

      </ul>

      <form class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-1 control-label" for="from">From:</label>
          <div class="col-sm-11">
            <select id="from" class="form-control">
              <option value=''>Current Location</option>
<option value='34.9861116,135.7525122' data-group='0'>Rihga Royal Hotel Kyoto</option>
<option value='34.9914842,135.7517349' data-group='0'>西本願寺 Nishihongan-ji Temple</option>
<option value='34.9811177,135.7475964' data-group='0'>東寺 Toji</option>
<option value='35.0142299,135.748218' data-group='0'>二条城 Nijō Castle</option>
<option value='35.0314012,135.7351215' data-group='0'>北野天満宮 Kitano Tenman-gū Shrine</option>
<option value='35.03937,135.7292431' data-group='0'>金閣寺 Kinkaku-ji</option>
<option value='35.0344943,135.7182634' data-group='0'>龍安寺 Ryōan-ji</option>
<option value='35.0310937,135.7138198' data-group='0'>仁和寺 Ninna-ji</option>
<option value='35.0174542,135.5876259' data-group='0'>亀岡平和祭保津川市民花火大会 (保津橋 Hozu Bridge)</option>
<option value='35.0027595,135.7748843' data-group='0'>花見小路 Hanami-koji Street</option>
<option value='34.998122,135.7808431' data-group='0'>二年坂 Ninenzaka</option>
<option value='34.9963442,135.7808771' data-group='0'>三年坂 Sannen-zaka</option>
<option value='34.9948561,135.7850463' data-group='0'>清水寺 Kiyomizu-dera</option>
<option value='34.9878845,135.7717126' data-group='0'>三十三間堂 Rengeoin Sanjusangendo</option>
<option value='35.0214836,135.7942056' data-group='0'>哲学の道 Tetsugaku-no-michi</option>
<option value='35.0271518,135.7978642' data-group='0'>銀閣寺 Ginkaku-ji Temple</option>
<option value='35.039171,135.773011' data-group='0'>下鴨神社 Shimogamo-Jinja</option>
<option value='35.0158275,135.673771' data-group='0'>天龍寺 Tenryu-ji</option>
<option value='35.0177597,135.6742103' data-group='0'>野宮神社 Nonomiya Shrine</option>
<option value='35.0176088,135.6743552' data-group='0'>嵯峨野 竹林の道 Chikurin</option>
<option value='34.9853943,135.758282' data-group='0'>抹茶.甜點 中村藤吉</option>
<option value='35.0050002,135.7632709' data-group='0'>錦市場 Nishiki Market</option>
<option value='35.0044019,135.7613432' data-group='0'>HARBS</option>
<option value='35.0058157,135.7680653' data-group='0'>一蘭拉麵 Ichiran Kyoto Kawaramachi</option>
<option value='35.0143941,135.7585817' data-group='0'>鰻割烹 まえはら</option>
<option value='35.0049407,135.7643007' data-group='0'>味彩のと与</option>
<option value='34.997126,135.763273' data-group='0'>江戸正 Edoshou</option>
<option value='34.9791213,135.7509509' data-group='0'>美登利</option>
<option value='35.0020619,135.7743841' data-group='0'>Uokeya U</option>
<option value='35.0050873,135.7710818' data-group='0'>先斗町 Pontocho Area</option>
<option value='35.000533,135.7788273' data-group='0'>葫蘆親子丼</option>
<option value='35.0169903,135.6772921' data-group='0'>うなぎ屋廣川 Hirokawa</option>
<option value='34.6889851,135.8398158' data-group='1'>東大寺 Tōdai-ji</option>
<option value='34.4320024,135.2303939' data-group='2'>関西国際空港 Kansai International Airport</option>

            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-1 control-label" for="to">To:</label>
          <div class="col-sm-11">
            <select id="to" class="form-control">
              <option value=''>Current Location</option>
<option value='34.9861116,135.7525122' data-group='0'>Rihga Royal Hotel Kyoto</option>
<option value='34.9914842,135.7517349' data-group='0'>西本願寺 Nishihongan-ji Temple</option>
<option value='34.9811177,135.7475964' data-group='0'>東寺 Toji</option>
<option value='35.0142299,135.748218' data-group='0'>二条城 Nijō Castle</option>
<option value='35.0314012,135.7351215' data-group='0'>北野天満宮 Kitano Tenman-gū Shrine</option>
<option value='35.03937,135.7292431' data-group='0'>金閣寺 Kinkaku-ji</option>
<option value='35.0344943,135.7182634' data-group='0'>龍安寺 Ryōan-ji</option>
<option value='35.0310937,135.7138198' data-group='0'>仁和寺 Ninna-ji</option>
<option value='35.0174542,135.5876259' data-group='0'>亀岡平和祭保津川市民花火大会 (保津橋 Hozu Bridge)</option>
<option value='35.0027595,135.7748843' data-group='0'>花見小路 Hanami-koji Street</option>
<option value='34.998122,135.7808431' data-group='0'>二年坂 Ninenzaka</option>
<option value='34.9963442,135.7808771' data-group='0'>三年坂 Sannen-zaka</option>
<option value='34.9948561,135.7850463' data-group='0'>清水寺 Kiyomizu-dera</option>
<option value='34.9878845,135.7717126' data-group='0'>三十三間堂 Rengeoin Sanjusangendo</option>
<option value='35.0214836,135.7942056' data-group='0'>哲学の道 Tetsugaku-no-michi</option>
<option value='35.0271518,135.7978642' data-group='0'>銀閣寺 Ginkaku-ji Temple</option>
<option value='35.039171,135.773011' data-group='0'>下鴨神社 Shimogamo-Jinja</option>
<option value='35.0158275,135.673771' data-group='0'>天龍寺 Tenryu-ji</option>
<option value='35.0177597,135.6742103' data-group='0'>野宮神社 Nonomiya Shrine</option>
<option value='35.0176088,135.6743552' data-group='0'>嵯峨野 竹林の道 Chikurin</option>
<option value='34.9853943,135.758282' data-group='0'>抹茶.甜點 中村藤吉</option>
<option value='35.0050002,135.7632709' data-group='0'>錦市場 Nishiki Market</option>
<option value='35.0044019,135.7613432' data-group='0'>HARBS</option>
<option value='35.0058157,135.7680653' data-group='0'>一蘭拉麵 Ichiran Kyoto Kawaramachi</option>
<option value='35.0143941,135.7585817' data-group='0'>鰻割烹 まえはら</option>
<option value='35.0049407,135.7643007' data-group='0'>味彩のと与</option>
<option value='34.997126,135.763273' data-group='0'>江戸正 Edoshou</option>
<option value='34.9791213,135.7509509' data-group='0'>美登利</option>
<option value='35.0020619,135.7743841' data-group='0'>Uokeya U</option>
<option value='35.0050873,135.7710818' data-group='0'>先斗町 Pontocho Area</option>
<option value='35.000533,135.7788273' data-group='0'>葫蘆親子丼</option>
<option value='35.0169903,135.6772921' data-group='0'>うなぎ屋廣川 Hirokawa</option>
<option value='34.6889851,135.8398158' data-group='1'>東大寺 Tōdai-ji</option>
<option value='34.4320024,135.2303939' data-group='2'>関西国際空港 Kansai International Airport</option>

            </select>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-11 col-sm-offset-1">
            <div class="radio">
              <label class="radio-inline">
                <input type="radio" name="mode" value="1" checked> Transit
              </label>
              <label class="radio-inline">
                <input type="radio" name="mode" value="2"> Driving
              </label>
              <label class="radio-inline">
                <input type="radio" name="mode" value="3"> Walking
              </label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-11 col-sm-offset-1">
            <button class="btn btn-primary btn-block" type="button" id="route">Route</button>
          </div>
        </div>
      </form>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="glyphicon glyphicon-apple"></span> Apple Maps
          </h3>
        </div>
        <div class="panel-body" id="apple">
          No Route Yet
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="glyphicon glyphicon-globe"></span> Google Maps
          </h3>
        </div>
        <div class="panel-body" id="google">
          No Route Yet
        </div>
      </div>
    </div>

    <script>
      var from_html = $('#from').html();
      var to_html = $('#to').html();

      $('.nav-pills a').on('click', function (event) {
        event.preventDefault();
        var group = $(this).data('group');
        $(this).closest('li').toggleClass('active');

        $('#from').html(from_html);
        $('#to').html(to_html);
        $('li:not([class^="active"])').each(function () {
          var hide_group = $(this).find('a').data('group');
          $(`option[data-group="${hide_group}"]`).remove();
        });
      });

      $('#from, #to, [name="mode"]').on('click', function () {
        $('#apple').empty().append('No Route Yet');
        $('#google').empty().append('No Route Yet');
      });

      $('#route').on('click', function () {
        var from_value = $('#from').val();
        var from_text = $('#from option:selected').text();
        var to_value = $('#to').val();
        var to_text = $('#to option:selected').text();
        var mode = $('[name="mode"]:checked').val();
        var href_text = `
          <span class="glyphicon glyphicon-map-marker"></span> ${from_text}
          &nbsp;<span class="glyphicon glyphicon-arrow-right"></span>&nbsp;
          <span class="glyphicon glyphicon-map-marker"></span> ${to_text}
        `;

        var mode_apple = 'r';
        var mode_google = 'transit';

        if (mode == 2) { mode_apple = 'd'; mode_google = 'driving'; }
        else if (mode == 3) { mode_apple = 'w'; mode_google = 'walking'; }

        var api_apple = `http://maps.apple.com/?saddr=${from_value}&daddr=${to_value}&dirflg=${mode_apple}`;
        var api_google = `https://www.google.com/maps/dir/?api=1&origin=${from_value}&destination=${to_value}&travelmode=${mode_google}`;

        $('#apple').empty().append(`<a href="${api_apple}" target="_blank">${href_text}</a>`);
        $('#google').empty().append(`<a href="${api_google}" target="_blank">${href_text}</a>`);
      });
    </script>
  </body>
</html>
